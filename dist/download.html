<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" />
    <meta name="description" content="Community Crag - Collaborative Climbing" />
    <meta name="author" content="Trevin Small" />

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Community Crag">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#212529">

    <link rel="apple-touch-icon" href="icons/apple-icon-180.png">

    <link rel="apple-touch-startup-image" href="icons/apple-splash-2048-2732.jpg"
        media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2732-2048.jpg"
        media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1668-2388.jpg"
        media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2388-1668.jpg"
        media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1536-2048.jpg"
        media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2048-1536.jpg"
        media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1668-2224.jpg"
        media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2224-1668.jpg"
        media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1620-2160.jpg"
        media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2160-1620.jpg"
        media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1284-2778.jpg"
        media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2778-1284.jpg"
        media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1170-2532.jpg"
        media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2532-1170.jpg"
        media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1125-2436.jpg"
        media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2436-1125.jpg"
        media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1242-2688.jpg"
        media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2688-1242.jpg"
        media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-828-1792.jpg"
        media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1792-828.jpg"
        media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1242-2208.jpg"
        media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-2208-1242.jpg"
        media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-750-1334.jpg"
        media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1334-750.jpg"
        media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-640-1136.jpg"
        media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="icons/apple-splash-1136-640.jpg"
        media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">

    <link rel="mask-icon" href="assets/images/icons/safari-pinned-tab.svg" color="#5bbad5">

    <link rel="manifest" crossorigin="use-credentials" href="/manifest.json" />

    <title>Community Crag | Home</title>

    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/logo.svg" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/bootstrap-styles.css" rel="stylesheet" />
    <link href="css/background.css" rel="stylesheet" />
    <link href="css/navbar.css" rel="stylesheet" />
    <link href="css/buttons.css" rel="stylesheet" />
    <link href="css/auth.css" rel="stylesheet" />
    <link href="css/page-frame.css" rel="stylesheet" />
    <script src="./csi.js"></script>
    <style>
        .title-row {
            align-self: flex-start;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: center;
            margin: 1rem 0 0 1rem;
        }

        .button-row {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .about-heading {
            width: 35%;
            padding: 0.25rem;
            border-radius: 12px 12px 0 0;
            border-width: 3px 3px 0px 3px;
            border-color: black;
            border-style: solid;
            background-color: lightgray;
            text-align: center;
            align-self: flex-start;
        }

        .heading-line {
            width: 75%;
            opacity: 1;
            padding-top: 1px;
            align-self: flex-start;
        }
    </style>
</head>

<body class="background">
    <!-- Responsive navbar-->
    <nav class="navbar">
        <div data-include="./navbar.html" id="navbar"></div>
    </nav>
    <!-- Page content-->
    <div class="scroll" id="scroll">
        <div class="auth-container">
            <div class="contents">
                <h3>Download Community Crag!</h3>
                <hr>
                <div class="about-heading">
                    <b>What is it?</b>
                </div>
                <hr class="heading-line">
                <p style="text-align: center;">
                    Communiy Crag is a
                    <a
                        href="https://www.google.com/search?q=pwa+meaning&rlz=1C5CHFA_enUS904US904&oq=PWA+&aqs=chrome.0.69i59l3j69i57j0i512j69i60l3.1362j0j7&sourceid=chrome&ie=UTF-8">

                        <b>Progressive Web App (PWA)</b></a>
                    <br> Essentially, its an "app" that contains a website.
                </p>
                <p style="text-align: center;">
                    For Safari Users: Hit Share -> Add to home screen -> Add <br>
                    Other browsers: Most modern browsers (Chrome, Opera, etc..) have a similar feature.
                    May be listed as "Save Page"
                </p>
                <div class="about-heading">
                    <b>What will it do?</b>
                </div>
                <hr class="heading-line">
                <p style="text-align: center;">
                    The app will appear on your home screen with our logo as the icon.
                </p>
                <p style="text-align: center;">
                    The app will display the same website (without showing your browser), and will load faster.
                </p>
                <div style="padding-top:10px;"></div>
                <button class="btn" style="border:3px solid black;border-radius: 15px; padding:12px"
                    id="install-button">Download Community Crag!</button>
                <div style="padding-top:20px;"></div>
            </div>
        </div>
        <div data-include="./footer.html"></div>
        <div data-include="./spacer.html"></div>
    </div>
    <script src="https://communitycrag.com/bundle.js"></script>
    <script>
        window.addEventListener('beforeunload', function (e) {
            communityCrag.updatePreviousURL(window.location.href);
        });
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js');
        }

        let deferredPrompt;

        window.addEventListener("beforeinstallprompt", function (beforeInstallPromptEvent) {
            console.log("beforeinstallevent");
            //beforeInstallPromptEvent.preventDefault(); // Prevents immediate prompt display
            deferredPrompt = beforeInstallPromptEvent;

        });

        // Shows prompt after a user clicks an "install" button
        document.getElementById('install-button').addEventListener("click", async () => {
            console.log("Button clicked");
            if (deferredPrompt !== null) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    deferredPrompt = null;
                }
            }
        });

    </script>
</body>

</html>