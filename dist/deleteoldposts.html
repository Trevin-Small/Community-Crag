<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#212529">

    <title>Crag | Delete Old Posts</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/logo.svg" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/bootstrap-styles.css" rel="stylesheet" />
    <link href="css/background.css" rel="stylesheet" />
    <link href="css/buttons.css" rel="stylesheet" />
    <link href="css/auth.css" rel="stylesheet" />
    <link href="css/page-frame.css" rel="stylesheet" />
    <link href="css/navbar.css" rel="stylesheet" />
    <script src="./csi.js"></script>
    <script>
        async function authRedirect() {
            const authError = "https://communitycrag.com/autherror.html";
            const signedIn = await communityCrag.isSignedIn();
            if (!signedIn) {
                window.location.href = authError;
                return;
            }

            const isAdminVal = await communityCrag.isAdmin();
            if (!isAdminVal) {
                window.location.href = "https://communitycrag.com/notpermitted";
            }
        }

        authRedirect();
    </script>
</head>

<body class="background">
    <!-- Responsive navbar-->
    <nav class="navbar">
        <div data-include="./navbar.html" id="navbar"></div>
    </nav>
    <!-- Page content-->
    <div class="scroll" id="scroll">
        <div class="auth-container">
            <div class="contents">
                <h3>Delete Old Posts</h3>
                <hr>
                <div class="error-message" id="error-message" style="display:none;"></div>
                <div class="info-message" id="info-message" style="display:none;"></div>
                <form class="auth-form" autocomplete="off" onsubmit="event.preventDefault();">
                    <div style="margin:0.25rem;"></div>
                    <b>Enter Cutoff Date:</b>
                    <input class="text-input" type="text" id="date" name="date" placeholder="mm/dd/yy">
                    <div style="margin:0.5rem;"></div>
                    <p style="text-align:center;">Submission will PERMANENTLY delete all posts older than the entered
                        date.</p>
                    <div style="margin:0.25rem;"></div>
                    <button class="btn submit-auth" type="submit" id="submit-reset"
                        onclick="communityCrag.deleteByDate();">Delete Old Posts</button>
                    <div style="margin:0.75rem;"></div>
                </form>
            </div>
        </div>
        <div data-include="./footer.html"></div>
        <div data-include="./spacer.html"></div>
    </div>
    <script src="https://communitycrag.com/bundle.js"></script>
</body>

</html>